# -- control target toggle (local tmux vs remote tmux over ssh)
#
# Goal: keep identical keybindings on local + server.
# Toggle decides whether keys act on THIS tmux, or are forwarded to the program
# running in the active pane (typically: ssh -> remote tmux).

# Default target on load/reload
set -g @control_target local

# M-g: toggle control target
bind -n M-g if-shell -F '#{==:#{@control_target},remote}' \
  'set -g @control_target local; display-message "CONTROL: LOCAL"' \
  'set -g @control_target remote; display-message "CONTROL: REMOTE (forward keys)"'
