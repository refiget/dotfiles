# ============================================================
# Zim Framework
# ============================================================
export ZIM_HOME=${ZIM_HOME:-${ZDOTDIR:-${HOME}}/.zim}

prompt-pwd() { print -P "%~" }

[[ -s ${ZIM_HOME}/init.zsh ]] && source ${ZIM_HOME}/init.zsh

# Hardening: avoid recursive _stop_application_mode/_start_application_mode
# seen on some machines after repeated reloads or mixed widget states.
# Keep these functions simple and idempotent.
if [[ -o interactive ]]; then
  functions[_start_application_mode]='echoti smkx'
  functions[_stop_application_mode]='echoti rmkx'
fi
