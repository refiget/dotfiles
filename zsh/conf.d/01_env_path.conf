# ============================================================
# Basic Environment & PATH
# ============================================================

setopt PROMPT_SUBST

# History
setopt HIST_IGNORE_ALL_DUPS HIST_IGNORE_SPACE HIST_REDUCE_BLANKS HIST_VERIFY
HISTSIZE=5000
SAVEHIST=5000
HISTFILE=~/.zsh_history

if [[ -o interactive ]]; then
  setopt INC_APPEND_HISTORY SHARE_HISTORY HIST_EXPIRE_DUPS_FIRST HIST_FCNTL_LOCK
fi

# Shell behavior
setopt CORRECT AUTO_CD INTERACTIVE_COMMENTS

# PATH (macOS-focused)
typeset -U path PATH
path=(
  "$HOME/.local/bin"
  "/opt/homebrew/bin"
  "/opt/homebrew/sbin"
  "/usr/local/bin"
  "/usr/bin"
  "/bin"
  "/usr/sbin"
  "/sbin"
  $path
)

if [[ -x /opt/homebrew/bin/brew ]]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
fi

export EDITOR="nvim"
export VISUAL="nvim"
export PAGER="less"

autoload -U colors && colors

# shell_gpt: auto-execute in --shell mode
export DEFAULT_EXECUTE_SHELL_CMD=true
