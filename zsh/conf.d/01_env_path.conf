# ============================================================
# Basic Environment & PATH
# ============================================================

setopt PROMPT_SUBST

# History
setopt HIST_IGNORE_ALL_DUPS HIST_IGNORE_SPACE HIST_REDUCE_BLANKS HIST_VERIFY
HISTSIZE=5000
SAVEHIST=5000
HISTFILE=~/.zsh_history

if [[ -o interactive ]]; then
  setopt INC_APPEND_HISTORY SHARE_HISTORY HIST_EXPIRE_DUPS_FIRST HIST_FCNTL_LOCK
fi

# Shell behavior
setopt CORRECT AUTO_CD INTERACTIVE_COMMENTS

# PATH (macOS-compatible: Apple Silicon + Intel)
typeset -U path PATH
path=(
  "$HOME/.local/bin"
  "/opt/homebrew/bin"
  "/opt/homebrew/sbin"
  "/usr/local/bin"
  "/usr/local/sbin"
  "/usr/bin"
  "/bin"
  "/usr/sbin"
  "/sbin"
  $path
)

if command -v brew >/dev/null 2>&1; then
  eval "$(brew shellenv)"
fi

export EDITOR="nvim"
export VISUAL="nvim"
export PAGER="less"

autoload -U colors && colors

# Pure prompt symbols must be defined BEFORE Zim loads prompt-pure (init.zsh in 02_framework_zim.conf).
export PURE_PROMPT_SYMBOL=${PURE_PROMPT_SYMBOL:-"❯"}
export PURE_PROMPT_VICMD_SYMBOL=${PURE_PROMPT_VICMD_SYMBOL:-"❮"}

# shell_gpt: auto-execute in --shell mode
export DEFAULT_EXECUTE_SHELL_CMD=true
