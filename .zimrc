# Zim Configuration
# ============================================================

# -----------------
# Base environment and utilities
# -----------------
zmodule environment
zmodule input
zmodule termtitle
zmodule utility

# 1. 加载 Zim 的核心补全设置 (您之前漏了这个!)
zmodule completion

# -----------------
# Git helpers
# (git-info is required for most prompt themes)
# -----------------
zmodule git
zmodule git-info

# -----------------
# Prompt theme
# -----------------
zmodule magicmace
zmodule zsh-users/zsh-completions
zmodule zsh-users/zsh-autosuggestions
zmodule Aloxaf/fzf-tab
zmodule zdharma-continuum/fast-syntax-highlighting
# 依赖自检（保守提示，不改主题/功能）
if ! command -v fzf >/dev/null 2>&1; then
  print "  未检测到 fzf，fzf-tab/相关功能不可用。Arch: pacman -S fzf；macOS: brew install fzf"
fi

if ! command -v git >/dev/null 2>&1; then
  print "  未检测到 git，zim 模块更新/安装可能失败。"
fi
